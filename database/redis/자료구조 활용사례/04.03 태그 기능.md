---
aliases:
  - 태그
tags:
  - 태그기능
  - redis
  - set
---
## Set을 이용한 태그 기능

Set 자료구조는 중복을 허용하지 않는 특성을 활용하여 태그 기능을 구현하는 데 적합합니다.

특정 태그를 포함한 게시물을 빠르게 검색하고, 여러 태그의 교집합/합집합 등의 집합 연산을 효율적으로 수행할 수 있습니다.

### 사용 방법

#### 1. 게시물별 태그 현황
각 게시물이 어떤 태그를 가지고 있는지 저장

```redis
# 게시물 222에 IT, DATABASE, REDIS 태그 추가
SADD post:222:tags IT DATABASE REDIS

# 게시물 221에 IT, PYTHON 태그 추가
SADD post:221:tags IT PYTHON
```

#### 2. 태그별 게시물 현황
각 태그를 가진 게시물 목록 저장

```redis
# IT 태그가 있는 게시물: 222, 221
SADD tag:IT:posts 222 221

# DATABASE 태그가 있는 게시물: 222
SADD tag:DATABASE:posts 222

# REDIS 태그가 있는 게시물: 222
SADD tag:REDIS:posts 222

# PYTHON 태그가 있는 게시물: 221
SADD tag:PYTHON:posts 221
```

#### 3. 특정 태그 조합을 가진 게시물 검색

**교집합 (AND 조건)**: IT와 DATABASE 태그를 모두 가진 게시물
```redis
SINTER tag:IT:posts tag:DATABASE:posts
# 결과: 222
```

**합집합 (OR 조건)**: IT 또는 DATABASE 태그를 가진 게시물
```redis
SUNION tag:IT:posts tag:DATABASE:posts
# 결과: 222, 221
```

**차집합**: IT 태그는 있지만 DATABASE 태그는 없는 게시물
```redis
SDIFF tag:IT:posts tag:DATABASE:posts
# 결과: 221
```