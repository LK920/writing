---
aliases:
  - 레디스_기본_개념
  - 레디스_해시
tags:
  - 레디스
  - redis
  - 레디스기본개념
  - 레디스자료구조
  - hash
  - field
---
# Redis Hash 자료구조

## 기본 개요
**하나의 Hash 내에서 여러 필드-값 쌍을 저장**합니다. 관계형 데이터베이스의 **테이블 한 행(Row)**처럼 생각하면 됩니다.

- **구조**: `Hash Key` → 여러 개의 `(Field, Value)` 쌍
- **특징**: 필드는 Hash 내에서 유일, 필드와 값 모두 문자열 저장
- **유연성**: 동적으로 필드 추가/제거 가능 (스키마 변경 불필요)
- **활용**: 사용자 프로필, 제품 정보, 설정값 등

---
## 데이터 구조 예시

```
HSET user:123 name "John" age "30" email "john@example.com"

Redis 메모리에 저장되는 구조:
{
  "user:123": {
    "name": "John",
    "age": "30",
    "email": "john@example.com"
  }
}
```

---

## 시간 복잡도

|작업|시간복잡도|설명|
|---|---|---|
|HSET / HGET|**O(1)**|매우 빠름|
|HGETALL|**O(N)**|필드 개수만큼 소요|
|HMGET|**O(N)**|조회 필드 개수만큼 소요|

---

## 핵심 커맨드

### 저장 및 조회

```
HSET key field value [field value...]    // 1개 이상의 필드-값 저장
HGET key field                           // 특정 필드의 값 조회
HMGET key field [field...]               // 여러 필드의 값 조회
HGETALL key                              // 모든 필드-값 쌍 조회
```

### 필드 관련

```
HEXISTS key field                        // 필드 존재 여부 확인
HDEL key field [field...]                // 필드 삭제
HKEYS key                                // 모든 필드명 조회
HVALS key                                // 모든 값 조회
HLEN key                                 // 필드 개수 조회
```

### 숫자 연산

```
HINCRBY key field increment              // 필드값을 숫자로 증가
HINCRBYFLOAT key field increment         // 필드값을 실수로 증가
```

---

## Hash vs String 비교

|측면|String|Hash|
|---|---|---|
|데이터 구조|단순 텍스트|필드-값 쌍|
|스키마|고정|동적|
|메모리 효율|개별 저장|더 효율적|
|일부 업데이트|전체 교체|필드만 수정|

**String으로 같은 정보 저장하면?**

```
SET user:123:name "John"
SET user:123:age "30"
SET user:123:email "john@example.com"
// 3개의 독립된 키 필요
```

**Hash로 저장하면?**

```
HSET user:123 name "John" age "30" email "john@example.com"
// 1개의 키로 관리
```