---
aliases:
  - 레디스_기본_개념
  - 레디스_리스트
tags:
  - 레디스
  - redis
  - 레디스기본개념
  - 레디스자료구조
  - key
  - list
  - queue
  - stack
---
# Redis List 자료구조

## 기본 개요

**순서를 가지는 문자열의 목록**입니다. 양쪽 끝에서만 효율적으로 추가/제거 가능합니다.

- **최대 아이템 개수**: 약 42억 개
- **특징**: 인덱스 접근 가능, 중복 값 허용
- **활용**: Stack(LIFO), Queue(FIFO), 로그 저장 등

---

## 시간 복잡도 (성능의 핵심)

| 작업                      | 시간복잡도    | 설명          |
| ----------------------- | -------- | ----------- |
| 양쪽 끝(Head/Tail)에서 추가/제거 | **O(1)** | 매우 빠름       |
| **중간 데이터 접근**           | **O(N)** | ⚠️ 성능 저하 위험 |
| 범위 조회                   | O(N)     | 범위 크기만큼 소요  |

**중요**: 중간 접근이 빈번하다면 List가 아닌 **Hash나 Sorted Set**을 고려

---

## 핵심 커맨드

### 추가/제거

```
LPUSH key element [element...]     // 왼쪽(Head)에서 추가
RPUSH key element [element...]     // 오른쪽(Tail)에서 추가
LPOP key [count]                   // 왼쪽에서 추출 (값 반환 + 삭제)
RPOP key [count]                   // 오른쪽에서 추출
```

### 조회

```
LRANGE key start stop              // 범위 조회 (양쪽 끝에서 -1, -2로 역인덱싱 가능)
LINDEX key index                   // 특정 인덱스 조회 (O(N) 주의)
```

### 수정/정리

```
LSET key index element             // 인덱스 위치의 값 변경
LINSERT key BEFORE|AFTER pivot element   // 특정 값의 앞/뒤에 삽입
LTRIM key start stop               // 범위 외 데이터 삭제 (범위 내만 보존)
```

---

## 주요 사용 패턴

### 1️⃣ Stack (LIFO)

```
LPUSH stack_key value          // 데이터 추가
LPOP stack_key                 // 데이터 제거 및 반환 (마지막 추가된 것부터)
```

### 2️⃣ Queue (FIFO)

```
RPUSH queue_key value          // 오른쪽에 추가
LPOP queue_key                 // 왼쪽에서 추출
```

### 3️⃣ 고정된 큐 (Fixed-Size Queue) - 로그 저장에 최적

```
LPUSH log_key new_log_entry
LTRIM log_key 0 999            // 최신 1000개만 유지 (나머지 자동 삭제)
```

**왜 효율적인가?**

- **O(1) 복잡도**: 추가(1개) + 삭제(끝에 1개) = 상수 시간
- **용량 관리**: 로그 데이터를 계속 쌓으면 메모리 부족 → LTRIM으로 해결
- **실무 활용**: 최근 로그, 방문 기록, 활동 피드 등

---

## 성능 최적화 팁

### ✅ 하면 좋은 것

- LPUSH/RPUSH, LPOP/RPOP: 양쪽 끝에서만 접근 → **O(1)로 빠름**
- LRANGE로 범위 조회: 필요한 범위만 지정
- LTRIM으로 정기적 정리: 메모리 효율적

### ⚠️ 피해야 할 것

- 중간 인덱스 접근(LINDEX): O(N) → 리스트가 크면 느려짐
- 빈번한 LINSERT/LSET: O(N) 성능 저하
- 매우 큰 LRANGE 조회: 메모리/CPU 부하

---

## 실무 활용 예상

|상황|커맨드 조합|
|---|---|
|최근 로그 100개 유지|LPUSH + LTRIM|
|작업 큐 처리|RPUSH + LPOP|
|페이지 뷰 히스토리|LPUSH + LRANGE|
|실시간 알림|RPUSH (추가) / LPOP (처리)|

