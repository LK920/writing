---
aliases:
  - "동시성제어 : 뮤텍스와 세마포어"
  - "동시성제어 : 뮤텍스와 세마포어"
  - "동시성제어 : 뮤텍스와 세마포어"
---
뮤텍스와 세마포어는 모두 **동시성 제어(Concurrency Control)**를 위한 동기화 메커니즘입니다. 여러 스레드나 프로세스가 공유 자원에 동시에 접근할 때 발생할 수 있는 문제를 방지하고, 데이터의 무결성을 지키기 위해 사용됩니다.

핵심적인 차이점과 개념은 다음과 같습니다.

### 1. 뮤텍스 (Mutex: Mutual Exclusion)

- **개념**: '상호 배제(Mutual Exclusion)'의 줄임말로, **공유 자원에 대한 접근을 한 번에 하나의 스레드/프로세스만 허용**하도록 하는 동기화 도구입니다.
    
- **작동 방식**:
    
    - 뮤텍스는 **잠금(Locking) 메커니즘**을 가집니다.
        
    - 어떤 스레드가 공유 자원에 접근하기 전에 뮤텍스를 **획득(Acquire)**하고, 작업을 마친 후에는 뮤텍스를 **해제(Release)**합니다.
        
    - 뮤텍스가 이미 획득된 상태라면, 다른 스레드는 뮤텍스를 획득할 때까지 **대기**해야 합니다.
        
- **주요 특징**:
    
    - **소유 개념**: 뮤텍스를 획득한 스레드만이 뮤텍스를 해제할 수 있습니다. (Lock을 건 스레드만 Lock을 풀 수 있습니다.)
        
    - **이진(Binary) 성격**: 자원에 대한 접근을 '잠김(Locked)' 또는 '잠기지 않음(Unlocked)' 두 가지 상태로만 제어합니다. 즉, 0 또는 1의 값을 가집니다.
        
    - **용도**: 단일 공유 자원(예: 특정 변수, 파일, 데이터베이스 레코드)에 대한 동시 접근을 막을 때 주로 사용됩니다.
        

### 2. 세마포어 (Semaphore)

- **개념**: 공유 자원에 **동시에 접근할 수 있는 스레드/프로세스의 수를 제한**하는 동기화 도구입니다.
    
- **작동 방식**:
    
    - 세마포어는 **카운터 변수**를 가집니다. 이 카운터는 현재 공유 자원에 접근할 수 있는 스레드의 최대 수를 나타냅니다.
        
    - 스레드가 자원에 접근하기 전에 세마포어의 값을 **감소(P 또는 wait 연산)**시키고, 작업을 마친 후에는 값을 **증가(V 또는 signal 연산)**시킵니다.
        
    - 만약 세마포어 값이 0이 되면, 더 이상 자원에 접근할 수 없으므로 해당 스레드는 대기해야 합니다.
        
- **주요 특징**:
    
    - **소유 개념 없음**: 세마포어를 감소시킨 스레드가 아니어도 세마포어 값을 증가시킬 수 있습니다. (Lock을 건 스레드만 Lock을 풀 수 있는 뮤텍스와 다릅니다.)
        
    - **카운팅(Counting) 성격**: 0 이상의 정수 값을 가질 수 있습니다.
        
    - **용도**:
        
        - **이진 세마포어 (Binary Semaphore)**: 카운터가 0 또는 1만 가질 수 있도록 제한된 세마포어입니다. 이는 뮤텍스와 유사하게 단일 자원 접근 제어에 사용될 수 있습니다. (하지만 소유 개념이 없다는 점에서 뮤텍스와 다릅니다.)
            
        - **카운팅 세마포어 (Counting Semaphore)**: 여러 개의 동일한 자원(예: 프린터 3대, 버퍼 슬롯 5개)에 대한 접근을 제어할 때 사용됩니다.
            

### 뮤텍스와 세마포어의 핵심 차이 요약

|특징|뮤텍스 (Mutex)|세마포어 (Semaphore)|
|---|---|---|
|**목적**|공유 자원에 **하나의 스레드만** 접근 허용|공유 자원에 **제한된 수의 스레드** 접근 허용|
|**소유**|**소유 개념 있음** (획득한 스레드만 해제 가능)|**소유 개념 없음** (어떤 스레드든 해제 가능)|
|**값의 범위**|0 또는 1 (잠김/잠기지 않음)|0 이상의 정수 (남은 자원의 수)|
|**용도**|**상호 배제** (Critical Section 보호)|**자원 제어**, 스레드 간 **신호 전달** (Producer-Consumer 문제 등)|

간단히 말해, 뮤텍스는 "화장실 문 잠금장치"와 같아서 한 번에 한 명만 들어갈 수 있고, 들어간 사람만 문을 열 수 있습니다. 세마포어는 "주차장 빈 공간 카운터"와 같아서, 빈 공간이 허용하는 만큼 차가 들어갈 수 있고, 차가 나갈 때마다 빈 공간이 늘어납니다.