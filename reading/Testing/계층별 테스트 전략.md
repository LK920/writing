---
tags:
  - study
  - test
  - TDD
---


### μ•„ν‚¤ν…μ² κ³„μΈµλ³„ μ—­ν• κ³Ό ν…μ¤νΈ μ „λµ

---
### π“ **κ³„μΈµλ³„ ν•µμ‹¬ μ±…μ„κ³Ό ν…μ¤νΈ κ΄€μ‹¬μ‚¬**

| κ³„μΈµ | ν•µμ‹¬ μ±…μ„ | ν…μ¤νΈ κ΄€μ‹¬μ‚¬ |
| :--- | :--- | :--- |
| **Controller** | μ™Έλ¶€ μ„Έκ³„μ™€μ ν†µμ—­ | "μ”μ²­/μ‘λ‹µ ν•μ‹μ΄ μ¬λ°”λ¥Έκ°€? μ¬λ°”λ¥Έ λ‹΄λ‹Ήμμ—κ² μ „λ‹¬ν–λ”κ°€?" |
| **Service** | λΉ„μ¦λ‹μ¤ μ΄κ΄„ | "λΉ„μ¦λ‹μ¤ κ·μΉ™μ„ λ¨λ‘ μ§€μΌ°λ”κ°€? μ‘μ—… νλ¦„μ΄ μ¬λ°”λ¥Έκ°€?" |
| **Repository** | λ°μ΄ν„° μ°½κ³  κ΄€λ¦¬ | "λ°μ΄ν„°λ¥Ό μ •ν™•ν•κ³  μ•μ „ν•κ² λ„£κ³  κΊΌλ‚΄λ”κ°€?" |
| **Domain** | λΉ„μ¦λ‹μ¤μ μ£ΌμΈκ³µ | "κ°μ²΄ μμ‹ μ μƒνƒμ™€ ν–‰λ™μ΄ μ¬λ°”λ¥Έκ°€?" |

#### **1. μ»¨νΈλ΅¤λ¬ κ³„μΈµ (Controller Layer)**

-   **μ—­ν•  (Role)**
    -   HTTP μ”μ²­μ„ μμ‹ ν•κ³  μ‘λ‹µμ„ λ°ν™ν•λ” API μ—”λ“ν¬μΈνΈ μ—­ν• .
    -   μ”μ²­ νλΌλ―Έν„°, `RequestBody` λ“±μ— λ€ν• μ ν¨μ„± κ²€μ‚¬ (Validation).
    -   μ„λΉ„μ¤ κ³„μΈµμΌλ΅ λΉ„μ¦λ‹μ¤ λ΅μ§ μ²λ¦¬λ¥Ό μ„μ„ν•κ³ , κ²°κ³Όλ¥Ό λ°›μ•„ HTTP μ‘λ‹µμΌλ΅ λ³€ν™.

-   **ν…μ¤νΈ μ „λµ (Test Strategy)**
    -   **API λ…μ„Έ μ¤€μ μ—¬λ¶€**λ¥Ό κ²€μ¦ν•©λ‹λ‹¤. (e.g., `MockMvc`λ¥Ό μ‚¬μ©ν• ν…μ¤νΈ)
    -   μ”μ²­/μ‘λ‹µ ν•μ‹ (JSON μ§λ ¬ν™”/μ—­μ§λ ¬ν™”)μ„ ν…μ¤νΈν•©λ‹λ‹¤.
    -   μ ν¨μ„± κ²€μ‚¬(Validation) λ΅μ§μ΄ μ¬λ°”λ¥΄κ² λ™μ‘ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
    -   μ„λΉ„μ¤ κ³„μΈµκ³Όμ μƒνΈμ‘μ©μ„ `Mock` κ°μ²΄λ¥Ό ν†µν•΄ κ²€μ¦ν•©λ‹λ‹¤. (e.g., νΉμ • μ”μ²­ μ‹ μ„λΉ„μ¤μ νΉμ • λ©”μ†λ“κ°€ νΈμ¶λλ”κ°€?)

-   **ν•µμ‹¬ ν…μ¤νΈ κ΄€μ‹¬μ‚¬**:
    -   μ”μ²­/μ‘λ‹µ λ°μ΄ν„°μ ν•μ‹(JSON)μ΄ μ¬λ°”λ¥Έκ°€?
    -   μ ν¨μ„± κ²€μ‚¬(@Valid)κ°€ μ λ€λ΅ λ™μ‘ν•λ”κ°€? (e.g., ν•„μ κ°’μ΄ λ„λ½λλ©΄ 400 μ—λ¬)
    -   μƒν™©μ— λ§λ” HTTP μƒνƒ μ½”λ“λ¥Ό λ°ν™ν•λ”κ°€? (e.g., μ„±κ³µ μ‹ 200/201, μ‹¤ν¨ μ‹ 400/404)
    -   μ¬λ°”λ¥Έ μ„λΉ„μ¤ λ©”μ„λ“λ¥Ό νΈμ¶ν•λ”κ°€?

#### π’€ **ν”ν μ €μ§€λ¥΄λ” μ‹¤μ (Anti-patterns)**

1.  **μ»¨νΈλ΅¤λ¬μ—μ„ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ ν…μ¤νΈν•λ” κ²ƒ**:
    -   **μλ»λ μ**: "ν¬μΈνΈ μ¶©μ „ μ”μ²­ μ‹, μ μ €μ μ‹¤μ  ν¬μΈνΈκ°€ μ¦κ°€ν–λ”μ§€ κ²€μ¦ν•λ‹¤."
    -   **μ™ λ¬Έμ μΈκ°€?**: ν¬μΈνΈ μ¦κ°€λ” μ„λΉ„μ¤ κ³„μΈµμ μ±…μ„μ…λ‹λ‹¤. μ»¨νΈλ΅¤λ¬ ν…μ¤νΈλ” μ„λΉ„μ¤κ°€ "μ„±κ³µ"μ΄λΌλ” κ²°κ³Όλ¥Ό λ°ν™ν–μ„ λ•, μ»¨νΈλ΅¤λ¬κ°€ "200 OK" μ‘λ‹µμ„ μ λ§λ“λ”μ§€λ§ ν™•μΈν•΄μ•Ό ν•©λ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: `PointService`λ¥Ό κ°€μ§(Mock)λ΅ λ€μ²΄ν•κ³ , "μ„λΉ„μ¤κ°€ 'μ„±κ³µ'μ„ λ°ν™ν•λ©΄, μ»¨νΈλ΅¤λ¬λ” '200 OK'λ¥Ό λ°ν™ν•λ”κ°€?"λ¥Ό ν…μ¤νΈν•©λ‹λ‹¤.

2.  **μ„λΉ„μ¤λ¥Ό Mockingν•μ§€ μ•κ³  μ‹¤μ  DBκΉμ§€ νΈμ¶ν•λ” κ²ƒ**:
    -   **μλ»λ μ**: μ»¨νΈλ΅¤λ¬ ν…μ¤νΈ ν•λ‚λ¥Ό μ‹¤ν–‰ν–λ”λ° DB μ—°κ²°λ¶€ν„° λ¨λ“  κ³„μΈµμ΄ λ™μ‘ν•μ—¬ ν…μ¤νΈκ°€ λλ ¤μ§€κ³ , μ‹¤ν¨ μ›μΈμ„ νμ•…ν•κΈ° μ–΄λ µκ² λ§λ“­λ‹λ‹¤.
    -   **μ™ λ¬Έμ μΈκ°€?**: μ»¨νΈλ΅¤λ¬ ν…μ¤νΈμ μ‹¤ν¨λ” 'μ»¨νΈλ΅¤λ¬μ μλ»'μ΄μ–΄μ•Όμ§€, 'μ„λΉ„μ¤λ‚ DBμ μλ»'μ΄μ–΄μ„λ” μ• λ©λ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: μ»¨νΈλ΅¤λ¬ ν…μ¤νΈλ” μ„λΉ„μ¤ κ³„μΈµμ„ κ²½κ³„λ΅ μ‚Όμ•„, μ™Έλ¶€μ™€μ ν†µμ‹ μ΄λΌλ” μμ‹ μ μ±…μ„μ—λ§ μ§‘μ¤‘ν•΄μ•Ό ν•©λ‹λ‹¤.

---

#### **2. μ„λΉ„μ¤ κ³„μΈµ (Service Layer)**

-   **μ—­ν•  (Role)**
    -   **λΉ„μ¦λ‹μ¤ μ •μ±…** λ° **νλ¦„ μ μ–΄**λ¥Ό λ‹΄λ‹Ήν•©λ‹λ‹¤.
    -   μ„λΉ„μ¤λ” 'μ™/λ¬΄μ—‡μ„' ν•΄μ•Ό ν•λ”μ§€λ¥Ό κ²°μ •ν•©λ‹λ‹¤. (e.g., ν¬μΈνΈ μ¶©μ „, μƒν’ μ£Όλ¬Έ)
    -   ν•λ‚ μ΄μƒμ λ¦¬ν¬μ§€ν† λ¦¬λ¥Ό μ‚¬μ©ν•μ—¬ λΉ„μ¦λ‹μ¤ λ΅μ§μ„ κµ¬ν„ν•κ³ , νΈλμ­μ…μ„ κ΄€λ¦¬ν•©λ‹λ‹¤.

-   **ν…μ¤νΈ μ „λµ (Test Strategy)**
    -   **λΉ„μ¦λ‹μ¤ μ‹λ‚λ¦¬μ¤**μ™€ **μ •μ±…**μ„ κ²€μ¦ν•λ” λ° μ§‘μ¤‘ν•©λ‹λ‹¤. (e.g., λ‹¨μ„ ν…μ¤νΈ)
    -   λ¦¬ν¬μ§€ν† λ¦¬ κ³„μΈµκ³Όμ μƒνΈμ‘μ©μ€ `Mock` κ°μ²΄λ¥Ό μ‚¬μ©ν•μ—¬ κ²€μ¦ν•©λ‹λ‹¤.
    -   **μμ‹**:
        -   ν• μ‚¬μ©μμ μ¤‘λ³µλ μ”μ²­ μ¤‘ 1κ±΄λ§ μ„±κ³µμ μΌλ΅ μ²λ¦¬λλ”κ°€?
        -   ν¬μΈνΈκ°€ λ¶€μ΅±ν•  κ²½μ°, μƒν’ μ£Όλ¬Έμ΄ μ‹¤ν¨ν•λ”κ°€?

-   **ν•µμ‹¬ ν…μ¤νΈ κ΄€μ‹¬μ‚¬**:
    -   ν•µμ‹¬ λΉ„μ¦λ‹μ¤ κ·μΉ™μ΄ μ •ν™•ν κµ¬ν„λμ—λ”κ°€? (e.g., λ³΄μ  ν¬μΈνΈλ³΄λ‹¤ λ§μ΄ μ‚¬μ©ν•  μ μ—†λ‹¤.)
    -   κ·μΉ™ μ„λ° μ‹, μ •μλ λΉ„μ¦λ‹μ¤ μμ™Έ(`ErrorCode`)λ¥Ό λμ§€λ”κ°€?
    -   μ‘μ—…μ νλ¦„μ΄ μ¬λ°”λ¥Έκ°€? (e.g., μ μ € μ΅°ν -> ν¬μΈνΈ μ°¨κ° -> μ΄λ ¥ μ €μ¥ μμ„)

#### π’€ **ν”ν μ €μ§€λ¥΄λ” μ‹¤μ (Anti-patterns)**

1.  **λ¦¬ν¬μ§€ν† λ¦¬μ λ‚΄λ¶€ κµ¬ν„μ„ ν…μ¤νΈν•λ” κ²ƒ**:
    -   **μλ»λ μ**: "ν¬μΈνΈ μ‚¬μ© μ‹, `userPointRepository.saveOrUpdate()` λ©”μ„λ“κ°€ μ •ν™•ν 1λ² νΈμ¶λμ—λ”μ§€ κ²€μ¦ν•λ‹¤."
    -   **μ™ λ¬Έμ μΈκ°€?**: `saveOrUpdate`κ°€ μ•„λ‹λΌ λ‚΄λ¶€μ μΌλ΅ `update()`μ™€ `insert()`λ¥Ό λ”°λ΅ νΈμ¶ν•λ„λ΅ λ¦¬ν©ν† λ§ν•λ©΄ μ„λΉ„μ¤ λ΅μ§μ€ κ·Έλ€λ΅μ—¬λ„ ν…μ¤νΈλ” μ‹¤ν¨ν•©λ‹λ‹¤. μ„λΉ„μ¤λ” "ν¬μΈνΈκ°€ λ³€κ²½λλ‹¤"λ” *κ²°κ³Ό*μ—λ§ κ΄€μ‹¬ μμ–΄μ•Όμ§€, *μ–΄λ–»κ²* μ €μ¥λλ”μ§€λ” λ¦¬ν¬μ§€ν† λ¦¬μ μ±…μ„μ…λ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: "ν¬μΈνΈ μ‚¬μ© ν›„, μ μ €μ ν¬μΈνΈλ¥Ό λ‹¤μ‹ μ΅°νν–μ„ λ•, κΈ°λ€ν• κ°’μΌλ΅ λ³€κ²½λμ—λ”κ°€?"λ¥Ό κ²€μ¦ν•©λ‹λ‹¤.

2.  **λ°μ΄ν„° μμ²΄μ μ ν¨μ„±μ„ κ²€μ¦ν•λ” κ²ƒ**:
    -   **μλ»λ μ**: λ¦¬ν¬μ§€ν† λ¦¬μ—μ„ κ°€μ Έμ¨ `UserPoint` κ°μ²΄μ `id`λ‚ `point` ν•„λ“κ°€ `null`μ΄ μ•„λ‹μ§€ κ²€μ¦ν•λ” ν…μ¤νΈ μ½”λ“.
    -   **μ™ λ¬Έμ μΈκ°€?**: λ¦¬ν¬μ§€ν† λ¦¬λ” ν•­μƒ μ™„μ „ν• ν•νƒμ κ°μ²΄λ¥Ό λ°ν™ν•λ‹¤κ³  μ‹ λΆ°ν•΄μ•Ό ν•©λ‹λ‹¤. λ°μ΄ν„°μ λ¬΄κ²°μ„±μ€ λ¦¬ν¬μ§€ν† λ¦¬ ν…μ¤νΈμ—μ„ μ΄λ―Έ κ²€μ¦λμ—μ–΄μ•Ό ν•©λ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: μ„λΉ„μ¤λ” λ¦¬ν¬μ§€ν† λ¦¬κ°€ λ„κ²¨μ¤€ λ°μ΄ν„°λ¥Ό λ―Ώκ³  λΉ„μ¦λ‹μ¤ λ΅μ§ μ²λ¦¬μ—λ§ μ§‘μ¤‘ν•©λ‹λ‹¤. (e.g., `userPoint.getPoint() < amountToUse`)

---

#### **3. λ¦¬ν¬μ§€ν† λ¦¬ κ³„μΈµ (Repository Layer)**

-   **μ—­ν•  (Role)**
    -   **λ°μ΄ν„° μμ†μ„±**κ³Ό **κΈ°μ μ  μ •ν™•μ„±**μ„ λ‹΄λ‹Ήν•©λ‹λ‹¤.
    -   μ„λΉ„μ¤μ μ”κµ¬μ‚¬ν•­μ„ 'μ–΄λ–»κ²' λ°μ΄ν„°λ² μ΄μ¤(λλ” λ‹¤λ¥Έ λ°μ΄ν„° μ†μ¤)μ— μ €μ¥ν•κ³  μ΅°νν• μ§€λ¥Ό μ±…μ„μ§‘λ‹λ‹¤.
    -   λ°μ΄ν„°λ² μ΄μ¤μ™€μ ν†µμ‹  λ΅μ§μ„ μΊ΅μν™”ν•©λ‹λ‹¤.

-   **ν…μ¤νΈ μ „λµ (Test Strategy)**
    -   **CRUD κΈ°λ¥**κ³Ό **λ°μ΄ν„° μ•μ •μ„±**μ„ κ²€μ¦ν•©λ‹λ‹¤.
    -   μ‹¤μ  λ°μ΄ν„°λ² μ΄μ¤ λλ” μΈλ©”λ¨λ¦¬ DB (e.g., H2)λ¥Ό μ‚¬μ©ν•μ—¬ ν…μ¤νΈν•©λ‹λ‹¤.
    -   **μμ‹**:
        -   λ°μ΄ν„°κ°€ μ •ν™•ν•κ² μƒμ„±(Create), μ΅°ν(Read), μμ •(Update), μ‚­μ (Delete) λλ”κ°€?
        -   λ™μ‹μ— μ—¬λ¬ μ”μ²­μ΄ λ°μƒν–μ„ λ•, λ°μ΄ν„° μ •ν•©μ„±μ΄ κΉ¨μ§€μ§€ μ•λ”κ°€? (λ™μ‹μ„± ν…μ¤νΈ)

-   **ν•µμ‹¬ ν…μ¤νΈ κ΄€μ‹¬μ‚¬**:
    -   CRUD(Create, Read, Update, Delete)κ°€ μ •ν™•ν λ™μ‘ν•λ”κ°€?
    -   μ΅°ν κ²°κ³Όκ°€ μ—†μ„ λ•, μ•½μ†λ ν•νƒ(e.g., `null`, `Optional.empty()`, λΉ λ¦¬μ¤νΈ)λ΅ λ°ν™ν•λ”κ°€?
    -   λ™μ‹μ— μ—¬λ¬ μ”μ²­μ΄ λ“¤μ–΄μ™€λ„ λ°μ΄ν„°μ μ •ν•©μ„±μ΄ κΉ¨μ§€μ§€ μ•λ”κ°€? (λ™μ‹μ„±)

#### π’€ **ν”ν μ €μ§€λ¥΄λ” μ‹¤μ (Anti-patterns)**

1.  **λ¦¬ν¬μ§€ν† λ¦¬μ—μ„ λΉ„μ¦λ‹μ¤ κ·μΉ™μ„ κ²€μ¦ν•λ” κ²ƒ**:
    -   **μλ»λ μ**: `save()` λ©”μ„λ“ λ‚΄λ¶€μ— `if (amount <= 0)` μ²΄ν¬λ¥Ό λ„£μ–΄ `INVALID_AMOUNT` μμ™Έλ¥Ό λμ§€λ” λ΅μ§μ„ κµ¬ν„ν•κ³ , μ΄λ¥Ό ν…μ¤νΈν•λ” κ²ƒ.
    -   **μ™ λ¬Έμ μΈκ°€?**: "κΈμ•΅μ€ 0λ³΄λ‹¤ μ»¤μ•Ό ν•λ‹¤"λ” λΉ„μ¦λ‹μ¤ μ •μ±…μ…λ‹λ‹¤. μ΄ μ •μ±…μ΄ "0λ„ ν—μ©"μΌλ΅ λ°”λ€λ©΄ μ„λΉ„μ¤λΏλ§ μ•„λ‹λΌ λ¦¬ν¬μ§€ν† λ¦¬ μ½”λ“κΉμ§€ μμ •ν•΄μ•Ό ν•©λ‹λ‹¤. λ¦¬ν¬μ§€ν† λ¦¬λ” μ–΄λ–¤ λ°μ΄ν„°λ“  μ¶©μ‹¤ν μ €μ¥μ†μ— μ „λ‹¬ν•λ” μ±…μ„λ§ μ Έμ•Ό ν•©λ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: `amount`κ°€ μμμ—¬λ„ **μ •ν™•ν•κ² μ €μ¥λλ”μ§€**λ¥Ό κ²€μ¦ν•λ” κ²ƒμ΄ μ¬λ°”λ¥Έ λ¦¬ν¬μ§€ν† λ¦¬μ μ—£μ§€ μΌ€μ΄μ¤ ν…μ¤νΈμ…λ‹λ‹¤. λΉ„μ¦λ‹μ¤ μ ν¨μ„± κ²€μ¦μ€ μ„λΉ„μ¤μ λ«μ…λ‹λ‹¤.

2.  **λ„¤μ΄ν‹°λΈ μΏΌλ¦¬λ¥Ό κ²€μ¦ν•μ§€ μ•λ” κ²ƒ**:
    -   **μλ»λ μ**: ORM(JPA λ“±)μ΄ λ§λ“¤μ–΄μ£Όλ” κ°„λ‹¨ν• `findById`, `save` λ“±λ§ ν…μ¤νΈν•κ³ , λ³µμ΅ν• JPQLμ΄λ‚ λ„¤μ΄ν‹°λΈ μΏΌλ¦¬λ΅ μ‘μ„±λ λ©”μ„λ“λ” ν…μ¤νΈν•μ§€ μ•λ” κ²ƒ.
    -   **μ™ λ¬Έμ μΈκ°€?**: λ³µμ΅ν• μΏΌλ¦¬μΌμλ΅ μ¤νƒ€λ‚ λ΅μ§ μ¤λ¥κ°€ λ°μƒν•κΈ° μ‰½μµλ‹λ‹¤. λ¦¬ν¬μ§€ν† λ¦¬ ν…μ¤νΈμ κ°€μ¥ μ¤‘μ”ν• λ©μ  μ¤‘ ν•λ‚λ” SQL λ λ²¨μ μ¤λ¥λ¥Ό μ΅μ•„λ‚΄λ” κ²ƒμ…λ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: λ³µμ΅ν• μ΅°ν μΏΌλ¦¬κ°€ μλ‹¤λ©΄, λ‹¤μ–‘ν• μ΅°κ±΄μΌλ΅ λ°μ΄ν„°λ¥Ό μ €μ¥ν•΄λ‘κ³  ν•΄λ‹Ή μΏΌλ¦¬κ°€ μ •ν™•ν• κ²°κ³Όλ¥Ό λ°ν™ν•λ”μ§€ λ°λ“μ‹ ν…μ¤νΈν•΄μ•Ό ν•©λ‹λ‹¤.
---

#### **4. λ„λ©”μΈ/λ¨λΈ κ³„μΈµ (Domain/Model Layer)**

-   **μ—­ν•  (Role)**
    -   μ• ν”λ¦¬μΌ€μ΄μ…μ ν•µμ‹¬ λΉ„μ¦λ‹μ¤ κ°λ…κ³Ό λ°μ΄ν„°λ¥Ό ν‘ν„ν•λ” κ°μ²΄μ…λ‹λ‹¤. (e.g., `User`, `UserPoint`, `PointHistory`)
    -   κ°μ²΄ μμ²΄μ μƒνƒμ™€ ν–‰μ„λ¥Ό κ°€μ§ μ μμµλ‹λ‹¤.

-   **ν…μ¤νΈ μ „λµ (Test Strategy)**
    -   λ„λ©”μΈ κ°μ²΄ λ‚΄μ— λΉ„μ¦λ‹μ¤ λ΅μ§μ΄ ν¬ν•¨λ κ²½μ°, ν•΄λ‹Ή λ΅μ§μ„ μ§μ ‘ ν…μ¤νΈν•©λ‹λ‹¤.
    -   μΌλ°μ μΌλ΅λ” λ‹¤λ¥Έ κ³„μΈµ(μ£Όλ΅ μ„λΉ„μ¤)μ ν…μ¤νΈλ¥Ό ν†µν•΄ κ°„μ ‘μ μΌλ΅ κ²€μ¦λ©λ‹λ‹¤.
    -   **μμ‹**:
        -   `UserPoint` κ°μ²΄μ `addPoint(amount)` λ©”μ†λ“κ°€ ν¬μΈνΈλ¥Ό μ¬λ°”λ¥΄κ² μ¦κ°€μ‹ν‚¤λ”κ°€? 

-   **ν•µμ‹¬ ν…μ¤νΈ κ΄€μ‹¬μ‚¬**:
    -   κ°μ²΄ μ¤μ¤λ΅ μƒνƒλ¥Ό λ³€κ²½ν•λ” λ‚΄λ¶€ λ΅μ§μ΄ μ¬λ°”λ¥΄κ² λ™μ‘ν•λ”κ°€?
    -   μƒμ„±μλ‚ ν©ν† λ¦¬ λ©”μ„λ“λ¥Ό ν†µν•΄ μ ν¨ν• μƒνƒμ κ°μ²΄λ§ μƒμ„±λλ”κ°€?

#### π’€ **ν”ν μ €μ§€λ¥΄λ” μ‹¤μ (Anti-patterns)**

1.  **λ„λ©”μΈ λ΅μ§μ„ μ„λΉ„μ¤ κ³„μΈµμ— κµ¬ν„ν•λ” κ²ƒ (Anemic Domain Model)**:
    -   **μλ»λ μ**: `UserPoint` κ°μ²΄λ” `id`μ™€ `point` ν•„λ“λ§ κ°€μ§€κ³  μκ³ , ν¬μΈνΈ κ³„μ‚° λ΅μ§μ΄ λ¨λ‘ `PointService`μ— μλ” κ²½μ°.
        ```java
        // In PointService...
        public void someMethod(UserPoint userPoint) {
            long newPoint = userPoint.getPoint() - 100; // κ³„μ‚° λ΅μ§μ΄ μ™Έλ¶€μ— μμ
            // ...
        }
        ```
    -   **μ™ λ¬Έμ μΈκ°€?**: κ°μ²΄μ§€ν–¥μ μ¥μ μ„ μƒκ² λ©λ‹λ‹¤. `UserPoint`μ™€ κ΄€λ ¨λ λ΅μ§μ΄ μ—¬λ¬ μ„λΉ„μ¤μ— ν©μ–΄μ Έ μ¤‘λ³µ μ½”λ“λ¥Ό μ λ°ν•κ³ , `UserPoint`μ μƒνƒλ¥Ό μ™Έλ¶€μ—μ„ λ§μλ€λ΅ λ³€κ²½ν•  μ μμ–΄ κ°μ²΄μ μΌκ΄€μ„±μ΄ κΉ¨μ§€κΈ° μ‰½μµλ‹λ‹¤.
    -   **μ¬λ°”λ¥Έ μ ‘κ·Ό**: `UserPoint` κ°μ²΄ λ‚΄λ¶€μ— `use(amount)` λΌλ” λ©”μ„λ“λ¥Ό λ‘μ–΄ ν¬μΈνΈ κ³„μ‚°κ³Ό κ΄€λ ¨λ μ±…μ„μ„ μ¤μ¤λ΅ μ§€κ² ν•©λ‹λ‹¤.
        ```java
        // In UserPoint...
        public UserPoint use(long amount) {
            if (this.point < amount) throw new BusinessException(...);
            return new UserPoint(this.id, this.point - amount); // μ¤μ¤λ΅ κ³„μ‚°
        }
        ```
        μ΄ κ²½μ°, `UserPointTest`μ—μ„ `use()` λ©”μ„λ“μ μ •ν™•μ„±μ„ μ§μ ‘ ν…μ¤νΈν•  μ μμµλ‹λ‹¤. 
---
