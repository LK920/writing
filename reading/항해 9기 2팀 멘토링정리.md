#멘토링 #멘토 #항해

- 멱등성
- 상태 다이어그램, 시퀀스 다이어그램 비슷한가?
	- 상태 다이어그램은 A -> B, B -> A 가는 등 어떻게 상태가 변할 수 있는지에 대한 표현하는 다이어그램
	- 시퀀스 다이어그램 : 기본적으로 시간의 흐름(위 > 아래)
- 설계와 구현 단계, 외래키 여부
	- 실제 업무 시 -> 외래키 지정 하지 않음 왜? 운영중 데이터를 추가하거나 삭제 등이 많음 만약 외래키가 있으면 제약이 생김 즉, 논리적으로만 쓰이고 실제로는 사용하지 않음
	- DB에서 제약을 걸지는 않는데 orm 쓰는가? -> orm도 안씀
	- 그럼 외래키는 어디서 온거지? 
		- 토스에는 코멘트로 남겨둠
		- id 키워드는 무조건 pk -> 토스에선 팀내 컨벤션을 맞춤
		- 실제로 해외에서도 잘 안씀 jpa of complexity
			- https://www.youtube.com/watch?v=RGz-Vn9fw04
		- JooQ < - jpa 대신 쓸수 있는 어떤것, 해외에서 쓰고 있다고 함
- 과제 관련
	- 설계의 범위는 어디까지인가?
		- 하나의 통짜 도메인으로 보고 접근할 것
		- 오버엔지니어링일 수 있음
		- 
	- 캐싱, 동시성 프로젝트 고도화 구현시 어떻게 해야할까요?
		- 확장성 고려
		- 시퀀스 다이어그램 같은거 그릴 때 kafka, redis 이런걸 넣는 순간 설계가 너무 강결합되어버림 -> 추상화화여 할 것
	- 클린 아키텍처 안 좋은 케이스
		- 도메인의 유비쿼터스 언어 -> ?
	- 시퀀스 다이어그램 관련
		- 이상적인 시퀀스 다이어그램 : 높은 추상화 단계에서 나눠주는게 좋다
			- service 간의 호출 정도?
			- 여러 서비스간의 협력이 필요해서 큰맥락에서 보통 작성할 때 추상화 단계로 하는게 좋음
		- 지양점
			- controller -> service -> ...
			- 구현체를 들어내는게 좋지 않다
				- 구현에 변경에 취약하기 때문
				- method 기준이런거 좀 안 좋을 수 있다
			- but -> 과제를 할 때 그려봐라, 연습이니깐
	- 동시성 제어 관련 설계
		- 동시성의 확장성을 열어두는게 좋음
	- 분산락 많이 씀
		- 무중단 서비스 배포를 위해서 2대이상의 서버는 떠있음
		- 그래서 분산환경에서의 락을 써야함
		- jvm은 거의 배치 레벨에서만 쓰는 정도?
		- db 레벨에서의 락은 잘 안쓰는 이유?
			- db가 비쌈
			- db는 진짜 소중히 다뤄야함(장애 나면 보통 다운된다고 봐야함)
			- db의 구성
				- 보통 master -slave (쓰기1 , slave 다수)
	- 시퀀스 다이어그램 모든 api를 다 그릴 필요 없음
		- 큰 서비스를 리딩할 때 필요함
		- 어떤 내용을 주고받아야할지 정도
		- 핵심 기능에 대해서만 할 것!
	- mermaid 현업에서 잘 씀
		- 처음부터 하려면 시간이 많이 걸릴 수 있음
		- 비슷한거 찾아서 복사해서 고치기!(샘플 잡아서)
	- erd 늦게 작성하는 법
		- dba가 있을 경우 요청 시 개 빡칠 수 있음
		- 그러니깐 erd 같은 경우 구현과 강결합되어 있음
		- 그래서 이른 시점에 erd 설계를 하는 것 보단 인메모리형태로 임시용 작성해봄
		- 이후 erd 그리는 방향으로 진행하는 편
	- 약어 사용 관련 질문
		- 보통은 풀어쓰는게 맞다
		- 약어는 잘 안씀
	- 과제 채점시 보는 문서
		- erd
		- 시퀀스 다이어그램 핵심 기능
		- rest api 문서
- 클린 아키텍처 궁금증
	- 모든 의존성은 안을 향해야 한다.!!
- 자바의 트렌드 변화!
	- - Java 9과 Spring 5로 바라보는 Java의 변화와 도전 
		- [https://www.youtube.com/watch?v=BFjrmj4p3_Y](https://www.youtube.com/watch?v=BFjrmj4p3_Y) 
	- Where is Java Going? 
		- [https://www.youtube.com/watch?v=1dY57CDxR14](https://www.youtube.com/watch?v=1dY57CDxR14) 
		- [https://mangkyu.tistory.com/401](https://mangkyu.tistory.com/401)